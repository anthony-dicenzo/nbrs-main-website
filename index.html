<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBRS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- Add Lucide Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide-static@0.16.29/font/lucide.min.css">
    <!-- Preload first video for immediate playback -->
    <link rel="preload" as="video" href="./video-output-E4E7476A-A746-4397-8515-58E3B7A0A0AA.mp4" type="video/mp4">
    <style>
        .bg-pattern {
            background-image: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="80" height="80"><path fill="%23ffffff" fill-opacity="0.4" d="M14 16H9v-2h5V9.87a4 4 0 1 1 2 0V14h5v2h-5v15.95A10 10 0 0 0 23.66 27l-3.46-2 8.2-2.2-2.9 5a12 12 0 0 1-21 0l-2.89-5 8.2 2.2-3.47 2A10 10 0 0 0 14 31.95V16zm40 40h-5v-2h5v-4.13a4 4 0 1 1 2 0V54h5v2h-5v15.95A10 10 0 0 0 63.66 67l-3.47-2 8.2-2.2-2.88 5a12 12 0 0 1-21.02 0l-2.88-5 8.2 2.2-3.47 2A10 10 0 0 0 54 71.95V56zm-39 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm40-40a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM15 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm40 40a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"></path></svg>');
        }
        
        .intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #4fa64f;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .intro-text {
            font-size: clamp(2rem, 15vw, 8rem);
            font-weight: 900;
            color: white;
            position: absolute;
            z-index: 1001;
        }
        
        .letter {
            display: inline-block;
            opacity: 0;
        }

        .white-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            background: white;
            border-radius: 50%;
            z-index: 1000;
        }

        .slide-content {
            opacity: 0;
            transform: translateY(-100px);
        }

        #app {
            visibility: hidden;
        }
        
        .buildings-container {
            position: relative;
            margin-bottom: -2rem;
            overflow: hidden;
        }
        
        .buildings-wrapper {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 0.5rem;
            padding: 0 1rem;
        }
        
    
        .building {
        opacity: 0;
            transform-origin: bottom;
        }

        .cityscape-section {
            background-color: #4fa64f;
            padding: 4rem 0 0;
            position: relative;
            z-index: 1;
            margin-bottom: -2rem;
            overflow: hidden;
        }

        .building {
            opacity: 0;
            transform-origin: bottom;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }

        #cityscape {
            display: block;
            margin-bottom: -2px;
        }

        .cloud {
            opacity: 0.4;
            fill: white;
            filter: url(#cloudFilter);
        }

        @media (max-width: 768px) {
            .cloud {
                opacity: 0.6; /* Increased opacity for better visibility on mobile */
            }
            .cloud1 {
                transform: scale(0.8); /* Slightly smaller clouds for mobile */
            }
            .cloud2 {
                transform: scale(0.7);
            }
            .cloud3 {
                transform: scale(0.9);
            }
        }

        .bird {
            fill: none;
            stroke: rgba(255, 255, 255, 0.6);
            stroke-width: 2;
        }

        .hero-section {
            position: relative;
            overflow: hidden;
        }

        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }

        @media (max-width: 768px) {
            .hero-video {
                display: none;
            }
            .hero-section {
                background-color: #4fa64f;
            }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 1;
        }

        /* Mobile Menu Styles */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 320px;
            height: 100vh;
            background: white;
            z-index: 50;
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu-header {
            background: #4fa64f;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .mobile-menu-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s ease;
        }

        .mobile-menu-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .mobile-menu-nav {
            padding: 2rem 1.5rem;
        }

        .mobile-menu-item {
            display: block;
            padding: 1rem 0;
            color: #374151;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            border-bottom: 1px solid #f3f4f6;
            transition: all 0.2s ease;
            position: relative;
        }

        .mobile-menu-item:last-child {
            border-bottom: none;
        }

        .mobile-menu-item:hover {
            color: #4fa64f;
            padding-left: 0.5rem;
        }

        .mobile-menu-item.active {
            color: #4fa64f;
            font-weight: 600;
        }

        .mobile-menu-item::after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 2px;
            background: #4fa64f;
            transition: width 0.2s ease;
        }

        .mobile-menu-item:hover::after {
            width: 4px;
        }

        .hamburger-button {
            position: relative;
            width: 24px;
            height: 24px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 4px;
        }

        .hamburger-line {
            width: 20px;
            height: 2px;
            background: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .hamburger-button.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger-button.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger-button.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Prevent body scroll when menu is open */
        body.menu-open {
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="intro-overlay">
        <div class="intro-text">
            <span class="letter">N</span>
            <span class="letter">B</span>
            <span class="letter">R</span>
            <span class="letter">S</span>
        </div>
        <div class="white-overlay"></div>
    </div>
    <div id="app" class="min-h-screen bg-[#4fa64f] bg-opacity-90">
        <!-- Header -->
        <header class="px-4 lg:px-6 h-16 flex items-center bg-[#4fa64f] shadow-md fixed w-full z-50">
            <div class="container mx-auto flex items-center justify-between">
                <a class="flex items-center justify-center" href="#">
                    <i class="lucide-building-2 h-6 w-6 mr-2 text-white"></i>
                    <span class="font-bold text-lg text-white">NBRS</span>
                </a>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:block">
                    <ul class="flex items-center space-x-8">
                        <li><a class="text-sm font-medium hover:underline underline-offset-4 text-white" href="#about">About Us</a></li>
                        <li><a class="text-sm font-medium hover:underline underline-offset-4 text-white font-bold" href="#partner">Partner With Us</a></li>
                    </ul>
                </nav>

                <!-- Mobile Hamburger Button -->
                <button 
                    @click="toggleMobileMenu" 
                    :class="{ 'active': menuOpen }"
                    class="hamburger-button md:hidden"
                    aria-label="Toggle mobile menu"
                >
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </header>

        <!-- Mobile Menu Overlay -->
        <div 
            @click="closeMobileMenu"
            :class="{ 'active': menuOpen }"
            class="mobile-menu-overlay md:hidden"
        ></div>

        <!-- Mobile Menu -->
        <div 
            :class="{ 'active': menuOpen }"
            class="mobile-menu md:hidden"
        >
            <div class="mobile-menu-header">
                <div class="flex items-center">
                    <i class="lucide-building-2 h-6 w-6 mr-2 text-white"></i>
                    <span class="font-bold text-lg text-white">NBRS</span>
                </div>
                <button 
                    @click="closeMobileMenu"
                    class="mobile-menu-close"
                    aria-label="Close mobile menu"
                >
                    <i class="lucide-x h-6 w-6"></i>
                </button>
            </div>
            <nav class="mobile-menu-nav">
                <a 
                    @click="closeMobileMenu"
                    href="#about" 
                    class="mobile-menu-item"
                >
                    About Us
                </a>
                <a 
                    @click="closeMobileMenu"
                    href="#partner" 
                    class="mobile-menu-item"
                >
                    Partner With Us
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <main class="pt-16">
            <!-- Hero Section -->
            <section class="hero-section w-full py-20 md:py-32 lg:py-48">
                <div class="hero-video-wrapper" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;">
                    <video 
                        id="heroVideo" 
                        class="hero-video" 
                        autoplay 
                        muted 
                        loop 
                        playsinline 
                        preload="auto"
                        poster=""
                        style="opacity: 0;"
                    >
                        <source 
                            id="heroVideoSource" 
                            src="./video-output-E4E7476A-A746-4397-8515-58E3B7A0A0AA.mp4" 
                            type="video/mp4"
                        >
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="hero-overlay"></div>
                <div class="container mx-auto px-4 md:px-6 hero-content">
                    <div class="flex flex-col items-center space-y-8 text-center max-w-4xl mx-auto">
                        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter text-white">
                            Building Communities in a Neighbourhood Near You
                        </h1>
                        <p class="text-lg md:text-xl text-gray-100 max-w-[700px]">
                            NBRS is revolutionizing urban living with small midrise and multiplex projects that foster connection and community. 
                        </p>
                        
                        <a href="#partner" class="inline-flex items-center justify-center px-8 py-3 rounded-lg bg-[#FF6B6B] text-white hover:bg-[#FF8787] transition-colors duration-300">
                            Become a Partner
                        </a>
                    </div>
                </div>
            </section>

        <!-- Add this after the Hero Section and before the About Section -->

                    <!-- Cityscape Section -->
                    <section class="cityscape-section w-full relative overflow-hidden">
                        <svg id="cityscape" class="w-full h-32 md:h-48" viewBox="150 0 500 200" preserveAspectRatio="xMidYMax meet">
                            <!-- Clouds with circular edges -->
                            <path class="cloud cloud1" 
                                  d="M50,50 
                                     C60,40 75,35 90,40
                                     C100,30 120,30 130,40
                                     C140,30 160,30 170,40
                                     C180,35 195,40 200,50
                                     C200,65 170,70 150,65
                                     C140,70 110,70 100,65
                                     C80,70 60,65 50,50
                                     Z" />
                                     
                            <path class="cloud cloud2" 
                                  d="M250,30
                                     C260,20 275,15 290,20
                                     C300,10 320,10 330,20
                                     C340,15 355,20 360,30
                                     C360,45 330,50 310,45
                                     C290,50 270,45 250,30
                                     Z" />
                                     
                            <path class="cloud cloud3" 
                                  d="M450,70 
                                     C465,55 490,50 510,60
                                     C525,45 555,45 570,60
                                     C585,50 610,55 620,70
                                     C620,90 580,95 550,90
                                     C520,95 480,90 450,70
                                     Z" />
                            
                            <!-- Smaller birds -->
                            <path class="bird bird1" d="M20,40 c5-5,10-5,15,0 c5-5,10-5,15,0" />
                            <path class="bird bird2" d="M300,60 c4-4,8-4,12,0 c4-4,8-4,12,0" />
                            <path class="bird bird3" d="M500,30 c6-6,12-6,18,0 c6-6,12-6,18,0" />
                            
                            <!-- Buildings with updated colors -->
                            <path class="building" d="M0,200 v-65 h30 v13 h20 v-26 h15 v78 z" fill="#f5f5f5"/>
                            <path class="building" d="M65,200 v-52 h25 v-13 h15 v-10 h15 v75 z" fill="#e8e8e8"/>
                            <path class="building" d="M120,200 v-78 h30 v20 h20 v58 z" fill="#f0f0f0"/>
                            <path class="building" d="M170,200 v-46 h40 v46 z" fill="#f5f5f5"/>
                            <path class="building" d="M210,200 v-85 h30 v13 h20 v72 z" fill="#e8e8e8"/>
                            <path class="building" d="M260,200 v-59 h35 v59 z" fill="#f0f0f0"/>
                            <path class="building" d="M295,200 v-72 h25 v20 h30 v52 z" fill="#f5f5f5"/>
                            <path class="building" d="M350,200 v-52 h40 v52 z" fill="#e8e8e8"/>
                            <path class="building" d="M390,200 v-65 h30 v13 h15 v52 z" fill="#f0f0f0"/>
                            <path class="building" d="M435,200 v-55 h35 v55 z" fill="#f5f5f5"/>
                            <path class="building" d="M470,200 v-78 h40 v78 z" fill="#e8e8e8"/>
                            <path class="building" d="M510,200 v-59 h30 v13 h20 v46 z" fill="#f0f0f0"/>
                            <path class="building" d="M560,200 v-91 h35 v20 h20 v71 z" fill="#f5f5f5"/>
                            <path class="building" d="M615,200 v-62 h40 v13 h15 v49 z" fill="#e8e8e8"/>
                            <path class="building" d="M670,200 v-81 h30 v16 h25 v65 z" fill="#f0f0f0"/>
                            <path class="building" d="M725,200 v-52 h45 v52 z" fill="#f5f5f5"/>
                            <path class="building" d="M770,200 v-72 h35 v13 h20 v59 z" fill="#e8e8e8"/>
                            <path class="building" d="M825,200 v-85 h40 v20 h15 v65 z" fill="#f0f0f0"/>
                        </svg>
                    </section>

            <!-- About Section -->
            <section id="about" class="w-full py-20 md:py-32">
                <div class="container mx-auto px-4 md:px-6">
                    <h2 class="text-3xl md:text-4xl font-bold text-center text-white mb-16">About NBRS</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                        <div v-for="card in aboutCards" :key="card.title" 
                             class="bg-white rounded-xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                            <div class="w-16 h-16 rounded-full bg-[#4fa64f]/10 flex items-center justify-center mb-6 mx-auto">
                                <i :class="card.icon" class="h-8 w-8 text-[#4fa64f]"></i>
                            </div>
                            <h3 class="text-xl font-bold text-[#4fa64f] mb-4 text-center">{{ card.title }}</h3>
                            <p class="text-gray-600 text-center">{{ card.content }}</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Partner Section -->
            <section id="partner" class="w-full py-20 md:py-32 bg-white">
                <div class="container mx-auto px-4 md:px-6">
                    <div class="grid md:grid-cols-2 gap-12 items-center max-w-6xl mx-auto">
                        <div class="space-y-6">
                            <h2 class="text-3xl md:text-4xl font-bold text-[#4fa64f]">
                                Become a Neighborhood Partner
                            </h2>
                            <p class="text-gray-600 text-lg">
                                Are you a landowner looking to develop your property? Partner with NBRS and let us transform your land into thriving, sustainable communities.
                            </p>
                            <ul class="space-y-4">
                                <li v-for="benefit in benefits" :key="benefit" 
                                    class="flex items-center text-gray-600">
                                    <i class="lucide-check text-[#4fa64f] mr-3"></i>
                                    {{ benefit }}
                                </li>
                            </ul>
                        </div>
                        <div class="bg-[#4fa64f] rounded-xl p-8 text-white shadow-xl">
                            <div class="flex items-center mb-6">
                                <i class="lucide-handshake h-10 w-10 mr-4"></i>
                                <h3 class="text-2xl font-bold">Start Your Partnership Journey</h3>
                            </div>
                            <form @submit.prevent="submitForm" class="space-y-4" action="confirmation.html">
                                <!-- Name row -->
                                <div class="grid grid-cols-2 gap-4">
                                    <input 
                                        type="text" 
                                        placeholder="First Name" 
                                        class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                    <input 
                                        type="text" 
                                        placeholder="Last Name" 
                                        class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                </div>
                                <!-- Other fields -->
                                <input 
                                    type="email" 
                                    placeholder="Your Email" 
                                    class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                <input 
                                    type="tel" 
                                    placeholder="Phone Number" 
                                    class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                <input 
                                    type="text" 
                                    placeholder="Property Address" 
                                    class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                <input 
                                    type="text" 
                                    placeholder="City" 
                                    class="w-full p-3 rounded-lg bg-white/10 border-0 text-white placeholder-gray-300">
                                <button type="submit" 
                                        class="w-full py-3 px-6 rounded-lg bg-[#FF6B6B] hover:bg-[#FF8787] transition-colors duration-300 flex items-center justify-center">
                                    Submit
                                    <i class="lucide-arrow-right ml-2"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-[#4fa64f] border-t border-[#3d8b3d] py-6">
            <div class="container mx-auto px-4 md:px-6">
                <div class="flex flex-col sm:flex-row items-center justify-between">
                    <p class="text-sm text-white mb-4 sm:mb-0">Â© 2024 NBRS. All rights reserved.</p>
                    <div class="flex flex-wrap justify-center gap-6">
                        <a v-for="link in footerLinks" :key="link.text"
                           class="flex items-center text-sm text-white hover:underline">
                            <i :class="link.icon" class="h-4 w-4 mr-2"></i>
                            {{ link.text }}
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    menuOpen: false,
                    aboutCards: [
                        {
                            icon: 'lucide-users',
                            title: 'Community Focused',
                            content: 'We design spaces that bring people together, fostering a sense of belonging in every project.'
                        },
                        {
                            icon: 'lucide-building-2',
                            title: 'Urban Innovation',
                            content: 'Our small midrise and multiplex projects are tailored to fit seamlessly into Toronto\'s urban fabric.'
                        },
                        {
                            icon: 'lucide-tree',
                            title: 'Sustainable Living',
                            content: 'We prioritize eco-friendly designs and materials to create sustainable, future-proof communities.'
                        }
                    ],
                    benefits: [
                        'Expert property development',
                        'Sustainable design practices',
                        'Community-focused approach'
                    ],
                    formFields: [
                        { name: 'firstname', type: 'text', placeholder: 'First Name' },
                        { name: 'lastname', type: 'text', placeholder: 'Last Name' },
                        { name: 'email', type: 'email', placeholder: 'Your Email' },
                        { name: 'phone', type: 'tel', placeholder: 'Phone Number' },
                        { name: 'streetaddress', type: 'text', placeholder: 'Property Address' },
                        { name: 'city', type: 'text', placeholder: 'City' }
                    ],
                    footerLinks: [
                        { icon: 'lucide-mail', text: 'hello@nbrs.ca' },
                        { icon: 'lucide-map-pin', text: 'Toronto, ON' }
                    ]
                }
            },
            methods: {
                submitForm() {
                    // Redirect to confirmation page
                    window.location.href = 'confirmation.html';
                },
                toggleMobileMenu() {
                    this.menuOpen = !this.menuOpen;
                    this.updateBodyScroll();
                },
                closeMobileMenu() {
                    this.menuOpen = false;
                    this.updateBodyScroll();
                },
                updateBodyScroll() {
                    if (this.menuOpen) {
                        document.body.classList.add('menu-open');
                    } else {
                        document.body.classList.remove('menu-open');
                    }
                }
            }
        }).mount('#app')
    </script>
    <!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/48114106.js"></script>
<!-- End of HubSpot Embed Code -->
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            // First timeline - intro sequence
            const introTimeline = gsap.timeline();
            
            // Calculate the diagonal of the screen for the circle expansion
            const w = window.innerWidth;
            const h = window.innerHeight;
            const diagonal = Math.sqrt(w * w + h * h);
            
            // Add slide-content class to main elements we want to animate
            document.querySelector('header').classList.add('slide-content');
            document.querySelectorAll('main section').forEach(section => {
                section.classList.add('slide-content');
            });
            document.querySelector('footer').classList.add('slide-content');
            
            // Make app visible but with elements hidden
            document.querySelector('#app').style.visibility = 'visible';
            
            // Initial animation sequence
            introTimeline
                .from('.letter', {
                    opacity: 0,
                    scale: 0,
                    y: 100,
                    rotationX: 180,
                    stagger: 0.5,
                    duration: 1,
                    ease: "back.out(1.7)"
                })
                .to('.letter', {
                    opacity: 1,
                    scale: 1.2,
                    stagger: 0.2,
                    duration: 0.5,
                    ease: "power2.inOut"
                })
                .to('.letter', {
                    scale: 1,
                    stagger: 0.2,
                    duration: 0.5
                })
                .to({}, { duration: 0.5 })
                .to('.white-overlay', {
                    width: diagonal * 2,
                    height: diagonal * 2,
                    duration: 1.5,
                    ease: "power2.inOut"
                })
                .to('.intro-text', {
                    opacity: 0,
                    duration: 0.5,
                    ease: "power2.inOut"
                }, "-=1")
                .set('.intro-overlay', {
                    display: 'none'
                })
                .to('.slide-content', {
                    opacity: 1,
                    y: 0,
                    duration: 2,
                    stagger: 0.4,
                    ease: "power4.out"
                })

            // Update the timing of background animations
            introTimeline
                .add(() => {
                    // Buildings animation
                    gsap.to('.building', {
                        opacity: 1,
                        scaleY: 1,
                        duration: 1.5,
                        stagger: {
                            each: 0.1,
                            from: "random"
                        },
                        ease: "power2.out"
                    });
                })
                .add(() => {
                    // Clouds and birds appear after buildings
                    gsap.to(['.cloud', '.bird'], {
                        opacity: 1,
                        duration: 1,
                        stagger: 0.2
                    });
                    
                    // Start the continuous animations
                    gsap.to('.cloud1', {
                        x: window.innerWidth > 768 ? 300 : 150, // Shorter distance on mobile
                        duration: window.innerWidth > 768 ? 30 : 20, // Faster animation on mobile
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    gsap.to('.cloud2', {
                        x: window.innerWidth > 768 ? 400 : 200,
                        duration: window.innerWidth > 768 ? 40 : 25,
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    gsap.to('.cloud3', {
                        x: window.innerWidth > 768 ? 350 : 175,
                        duration: window.innerWidth > 768 ? 35 : 22,
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    gsap.to('.bird1', {
                        x: 400,
                        y: -15,
                        duration: 20,
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    gsap.to('.bird2', {
                        x: 350,
                        y: -10,
                        duration: 25,
                        repeat: -1,
                        ease: 'none'
                    });
                    
                    gsap.to('.bird3', {
                        x: 300,
                        y: -12,
                        duration: 22,
                        repeat: -1,
                        ease: 'none'
                    });
                }, "+=0.5"); // Delay after buildings finish

            // Video switching logic - Optimized for seamless playback
            const videoElement = document.getElementById('heroVideo');
            const sourceElement = document.getElementById('heroVideoSource');
            const videos = [
                './video-output-E4E7476A-A746-4397-8515-58E3B7A0A0AA.mp4',
                './fountain.mp4',
                './night.mp4'
            ];
            let currentVideo = 0;
            let videoCache = new Map();
            let isSwitching = false;

            // Only load videos if not on mobile
            if (window.innerWidth > 768 && videoElement) {
                // Preload first video immediately (already done in HTML head)
                videoCache.set(0, true);
                
                // Function to preload video
                const preloadVideo = (index) => {
                    if (videoCache.has(index)) return;
                    
                    const link = document.createElement('link');
                    link.rel = 'preload';
                    link.as = 'video';
                    link.href = videos[index];
                    document.head.appendChild(link);
                    videoCache.set(index, true);
                    console.log(`Preloaded video ${index}: ${videos[index]}`);
                };

                // Function to switch video with better buffering
                const switchVideo = async (nextIndex) => {
                    if (isSwitching || nextIndex === currentVideo) return;
                    
                    isSwitching = true;
                    console.log(`Switching to video ${nextIndex}: ${videos[nextIndex]}`);
                    
                    // Fade out the video for a smooth transition
                    await gsap.to(videoElement, { opacity: 0, duration: 0.5 }).then();

                    try {
                        // Pause current video
                        videoElement.pause();
                        
                        // Update source
                        sourceElement.src = videos[nextIndex];
                        
                        // Load new video
                        await videoElement.load();
                        videoElement.play(); // The 'playing' event listener will handle the fade-in
                        
                        currentVideo = nextIndex;
                        isSwitching = false;
                        
                    } catch (error) {
                        console.error('Error switching video:', error);
                        isSwitching = false;
                        // If switching fails, fade the video back in
                        gsap.to(videoElement, { opacity: 1, duration: 0.5 });
                    }
                };

                // Preload subsequent videos only after the first one has started playing.
                videoElement.addEventListener('playing', () => {
                    // Fade in the video when it starts playing
                    gsap.to(videoElement, { opacity: 1, duration: 0.5 });
                    
                    console.log('Initial video playing. Preloading subsequent videos.');
                    preloadVideo(1);
                    preloadVideo(2);
                }, { once: true });

                // Switch videos every 12 seconds with better timing
                setInterval(() => {
                    if (!isSwitching) {
                        const nextVideo = (currentVideo + 1) % videos.length;
                        if (videoCache.has(nextVideo)) {
                            switchVideo(nextVideo);
                        }
                    }
                }, 12000);

                // Add error handling
                videoElement.addEventListener('error', (e) => {
                    console.error('Video error:', e);
                    // Fallback to first video if there's an error
                    if (currentVideo !== 0) {
                        switchVideo(0);
                    }
                });

                // Add loading event listeners for better debugging
                videoElement.addEventListener('loadstart', () => console.log('Video load started'));
                videoElement.addEventListener('loadeddata', () => console.log('Video data loaded'));
                videoElement.addEventListener('canplay', () => console.log('Video can play'));
                videoElement.addEventListener('playing', () => {
                    gsap.to(videoElement, { opacity: 1, duration: 0.5 });
                    console.log('Video playing');
                });

            } else if (videoElement) {
                // Remove video element on mobile
                videoElement.remove();
            }
        });

        // Set initial state
        gsap.set(['.cloud', '.bird'], { opacity: 0 });
    </script>
</body>
</html>