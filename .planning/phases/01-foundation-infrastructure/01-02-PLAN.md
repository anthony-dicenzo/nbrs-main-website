---
phase: 01-foundation-infrastructure
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - svelte.config.js
  - src/routes/+layout.js
  - src/routes/partner/+page.svelte
  - src/routes/waitlist/+page.svelte
  - src/routes/family-1/+page.svelte
autonomous: true

must_haves:
  truths:
    - "npm run build produces static output in build/ folder"
    - "All routes are accessible via browser navigation"
    - "Static output is suitable for Cloudflare Pages deployment"
  artifacts:
    - path: "svelte.config.js"
      provides: "Static adapter configuration"
      contains: "adapter-static"
    - path: "src/routes/+layout.js"
      provides: "Prerender setting for all routes"
      contains: "prerender"
    - path: "src/routes/partner/+page.svelte"
      provides: "Partner page placeholder"
      min_lines: 5
    - path: "src/routes/waitlist/+page.svelte"
      provides: "Waitlist page placeholder"
      min_lines: 5
    - path: "src/routes/family-1/+page.svelte"
      provides: "FAMILY 1 project page placeholder"
      min_lines: 5
  key_links:
    - from: "svelte.config.js"
      to: "@sveltejs/adapter-static"
      via: "adapter import"
      pattern: "adapter-static"
    - from: "src/routes/+layout.js"
      to: "all routes"
      via: "prerender = true export"
      pattern: "export const prerender"
---

<objective>
Configure static adapter and create route structure for all pages.

Purpose: Enable static site generation for Cloudflare Pages and establish all page routes.
Output: Build produces static HTML files, all routes (/, /partner, /waitlist, /family-1) are navigable.
</objective>

<execution_context>
@/Users/adicenzo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/adicenzo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-infrastructure/01-RESEARCH.md
@.planning/phases/01-foundation-infrastructure/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure adapter-static for Cloudflare Pages</name>
  <files>
    package.json
    svelte.config.js
    src/routes/+layout.js
  </files>
  <action>
    1. Install adapter-static:
       `npm install -D @sveltejs/adapter-static`

    2. Update svelte.config.js to use adapter-static:
       ```javascript
       import adapter from '@sveltejs/adapter-static';
       import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';

       /** @type {import('@sveltejs/kit').Config} */
       const config = {
         preprocess: vitePreprocess(),
         kit: {
           adapter: adapter({
             pages: 'build',
             assets: 'build',
             fallback: undefined,
             precompress: true,
             strict: true
           }),
           alias: {
             $components: 'src/lib/components',
             $actions: 'src/lib/actions'
           }
         }
       };

       export default config;
       ```

    3. Create src/routes/+layout.js to enable prerendering:
       ```javascript
       export const prerender = true;
       ```
  </action>
  <verify>
    Run `npm run build` - should complete without errors and create build/ directory
    Check `ls build/` - should contain index.html and other static files
  </verify>
  <done>
    Build completes successfully, build/ folder contains prerendered HTML with precompressed .br and .gz files
  </done>
</task>

<task type="auto">
  <name>Task 2: Create route structure for all pages</name>
  <files>
    src/routes/partner/+page.svelte
    src/routes/waitlist/+page.svelte
    src/routes/family-1/+page.svelte
  </files>
  <action>
    Create placeholder pages for each route. Each page should:
    - Have a minimal but styled layout using Tailwind
    - Display the page name clearly
    - Include navigation links back to home and to other pages
    - Use brand colors from app.css

    1. Create src/routes/partner/+page.svelte:
       ```svelte
       <script>
         // Partner page - investment and partnership opportunities
       </script>

       <main class="min-h-screen bg-white p-8">
         <h1 class="text-4xl font-bold text-nbrs-green mb-4">Partner With Us</h1>
         <p class="text-gray-600 mb-8">Investment and partnership opportunities coming soon.</p>

         <nav class="space-x-4">
           <a href="/" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Home</a>
           <a href="/waitlist" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Waitlist</a>
           <a href="/family-1" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">FAMILY 1</a>
         </nav>
       </main>
       ```

    2. Create src/routes/waitlist/+page.svelte:
       ```svelte
       <script>
         // Waitlist page - prospective resident signup
       </script>

       <main class="min-h-screen bg-white p-8">
         <h1 class="text-4xl font-bold text-nbrs-green mb-4">Join the Waitlist</h1>
         <p class="text-gray-600 mb-8">Be the first to know about available units.</p>

         <nav class="space-x-4">
           <a href="/" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Home</a>
           <a href="/partner" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Partner</a>
           <a href="/family-1" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">FAMILY 1</a>
         </nav>
       </main>
       ```

    3. Create src/routes/family-1/+page.svelte:
       ```svelte
       <script>
         // FAMILY 1 project page - first NBRS development
       </script>

       <main class="min-h-screen bg-white p-8">
         <h1 class="text-4xl font-bold text-nbrs-green mb-4">FAMILY 1</h1>
         <p class="text-gray-600 mb-8">Our first neighborhood-scale rental building. Coming soon.</p>

         <nav class="space-x-4">
           <a href="/" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Home</a>
           <a href="/partner" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Partner</a>
           <a href="/waitlist" class="text-nbrs-coral hover:text-nbrs-coral-hover underline">Waitlist</a>
         </nav>
       </main>
       ```

    4. Update src/routes/+page.svelte to add navigation links:
       Add a nav section with links to /partner, /waitlist, /family-1
  </action>
  <verify>
    Run `npm run dev` and navigate to each route:
    - localhost:5173/ (home)
    - localhost:5173/partner
    - localhost:5173/waitlist
    - localhost:5173/family-1

    Run `npm run build` and verify build/ contains:
    - index.html
    - partner/index.html
    - waitlist/index.html
    - family-1/index.html
  </verify>
  <done>
    All four routes are navigable in dev mode, build produces static HTML for each route
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `ls -R build/` shows:
   - build/index.html
   - build/partner/index.html
   - build/waitlist/index.html
   - build/family-1/index.html
   - Precompressed .br and .gz variants
3. `npm run dev` allows navigation between all routes
4. Each page displays its name and navigation works
</verification>

<success_criteria>
- Static build produces output suitable for Cloudflare Pages
- All routes (/, /partner, /waitlist, /family-1) exist and are prerendered
- Navigation between pages works without full page reload
- Build output includes precompressed files
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-infrastructure/01-02-SUMMARY.md`
</output>
