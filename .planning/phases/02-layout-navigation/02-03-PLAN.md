---
phase: 02-layout-navigation
plan: 03
type: execute
wave: 1
depends_on: ["02-02"]
files_modified:
  - src/lib/components/Nav.svelte
  - src/lib/components/Logo.svelte
  - static/images/logo.svg
  - static/images/logo-white.svg
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Logo displays as SVG image, not text"
    - "Nav links styled as pills with backdrop blur (Mission) and solid fill (Partner)"
    - "Nav links have rollover text animation on hover"
    - "Skip-to-content link present for accessibility"
  artifacts:
    - path: "src/lib/components/Logo.svelte"
      provides: "Reusable logo component with color variant support"
      contains: "logo"
    - path: "static/images/logo.svg"
      provides: "NBRS logo in brand green"
    - path: "src/lib/components/Nav.svelte"
      provides: "Polished navigation matching americanhousing.co reference"
      contains: "rollover"
---

<objective>
Transform the basic text nav into a polished navigation matching americanhousing.co quality.

Reference: americanhousing.co nav features:
- Logo as image (top left, clickable)
- Pill-style nav buttons with backdrop blur and solid variants
- Rollover text animation on hover (text slides up, duplicate slides in from below)
- Skip-to-content link for accessibility
- Sticky positioning that works with scroll

Output: Logo.svelte component, logo SVG assets, polished Nav.svelte with pill buttons and rollover animations
</objective>

<context>
Reference HTML structure from americanhousing.co:
```html
<nav class="pointer-events-auto absolute top-[20px] right-4 flex h-[34px] items-center gap-3">
  <a href="/mission" class="group font-die-a flex rounded-full border px-3 py-2 text-sm leading-5 backdrop-blur-[15px] border-white bg-black/30 text-cumulus">
    <span class="rollover-container">
      <span class="rollover-sizer">Mission</span>
      <span class="absolute top-0 left-0 transition-transform duration-300 group-hover:-translate-y-full">Mission</span>
      <span class="absolute top-full left-0 transition-transform duration-300 group-hover:-translate-y-full">Mission</span>
    </span>
  </a>
  <a href="/careers" class="group font-die-a flex gap-1.5 rounded-full px-3 py-2 text-sm leading-5 bg-cumulus text-driveway">
    <span class="rollover-container">...</span>
    <img src="/icons/arrow-right-driveway.svg" width="12" height="10" alt=""/>
  </a>
</nav>
```

NBRS brand: green #4fa64f
Nav links needed: Mission, Partner
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create NBRS logo SVG assets</name>
  <files>static/images/logo.svg, static/images/logo-white.svg</files>
  <action>
Create simple, clean NBRS logo as SVG. Based on nbrs.ca, the logo is text-based "NBRS" in a bold, modern sans-serif.

Create two versions:
1. `static/images/logo.svg` - NBRS in brand green (#4fa64f) for light backgrounds
2. `static/images/logo-white.svg` - NBRS in white for dark/green backgrounds

SVG specs:
- Width: ~80-100px at default size
- Clean, bold sans-serif letterforms (approximate Inter Bold or similar)
- Simple paths, no gradients
- viewBox for scalability

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 32" fill="#4fa64f">
  <text x="0" y="26" font-family="Inter, system-ui, sans-serif" font-weight="700" font-size="28">NBRS</text>
</svg>
```

Note: For production, convert text to paths for font independence. For now, text-based SVG is acceptable.
  </action>
  <verify>Open logo.svg in browser - should show "NBRS" in green. Open logo-white.svg - should show "NBRS" in white.</verify>
  <done>Two logo SVG files created in static/images/</done>
</task>

<task type="auto">
  <name>Task 2: Create Logo component</name>
  <files>src/lib/components/Logo.svelte</files>
  <action>
Create a reusable Logo component that renders the NBRS logo.

Props:
- `variant`: 'color' | 'white' (default: 'color')
- `class`: additional CSS classes

```svelte
<script lang="ts">
  let { variant = 'color', class: className = '' }: { variant?: 'color' | 'white', class?: string } = $props();

  const src = variant === 'white' ? '/images/logo-white.svg' : '/images/logo.svg';
</script>

<img
  {src}
  alt="NBRS - Neighbourhood Scale"
  width="80"
  height="32"
  class={className}
/>
```
  </action>
  <verify>Import Logo in a test page, renders correctly with both variants</verify>
  <done>Logo.svelte component created with variant support</done>
</task>

<task type="auto">
  <name>Task 3: Create Rollover text component</name>
  <files>src/lib/components/Rollover.svelte</files>
  <action>
Create reusable rollover text animation component matching americanhousing.co effect.

The effect: Text appears normal, on hover the text slides up and out while a duplicate slides up from below.

```svelte
<script lang="ts">
  let { text, class: className = '' }: { text: string, class?: string } = $props();
</script>

<span class="rollover-container relative inline-block overflow-hidden {className}">
  <!-- Invisible sizer to maintain width -->
  <span class="invisible">{text}</span>
  <!-- Visible text that slides up on hover -->
  <span class="absolute top-0 left-0 transition-transform duration-300 group-hover:-translate-y-full">
    {text}
  </span>
  <!-- Text that slides in from below -->
  <span class="absolute top-full left-0 transition-transform duration-300 group-hover:-translate-y-full">
    {text}
  </span>
</span>
```

Note: Parent element needs `group` class for hover to work.
  </action>
  <verify>Wrap in a group element, hover shows smooth text slide animation</verify>
  <done>Rollover.svelte component created with slide-up animation</done>
</task>

<task type="auto">
  <name>Task 4: Polish Nav component to match reference</name>
  <files>src/lib/components/Nav.svelte</files>
  <action>
Completely rework Nav.svelte to match americanhousing.co quality:

Structure:
1. Skip-to-content link (accessibility)
2. Sticky container with pointer-events management
3. Logo (top left)
4. Nav links (top right) as pills

```svelte
<script lang="ts">
  import Logo from './Logo.svelte';
  import Rollover from './Rollover.svelte';

  let scrollY = $state(0);
  let lastScrollY = $state(0);
  let visible = $state(true);
  let atTop = $state(true);

  $effect(() => {
    atTop = scrollY < 50;
    if (atTop) {
      visible = true;
    } else {
      visible = scrollY < lastScrollY;
    }
    lastScrollY = scrollY;
  });
</script>

<svelte:window bind:scrollY />

<!-- Skip link -->
<a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[60] focus:bg-white focus:px-4 focus:py-2 focus:rounded">
  Skip to main content
</a>

<!-- Nav container -->
<div
  class="pointer-events-none fixed top-0 left-0 right-0 z-50 transition-transform duration-300"
  class:translate-y-0={visible}
  class:-translate-y-full={!visible}
>
  <div class="pointer-events-none relative mx-auto w-full max-w-[1440px]">
    <!-- Logo -->
    <a
      href="/"
      aria-label="Home"
      class="pointer-events-auto absolute top-4 left-4 md:top-6 md:left-6"
    >
      <Logo variant={atTop ? 'white' : 'color'} />
    </a>

    <!-- Nav links -->
    <nav
      aria-label="Main"
      class="pointer-events-auto absolute top-4 right-4 flex items-center gap-3 md:top-6 md:right-6"
    >
      <!-- Mission - outlined pill with backdrop blur -->
      <a
        href="/mission"
        class="group flex rounded-full border border-white/60 bg-black/20 backdrop-blur-md px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-black/30"
      >
        <Rollover text="Mission" />
      </a>

      <!-- Partner - solid pill -->
      <a
        href="/partner"
        class="group flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-medium text-nbrs-green transition-colors hover:bg-gray-100"
      >
        <Rollover text="Partner" />
        <svg width="12" height="10" viewBox="0 0 12 10" fill="currentColor" class="transition-transform group-hover:translate-x-0.5">
          <path d="M7.5 0L6.4 1.1L9.3 4H0V5.5H9.3L6.4 8.4L7.5 9.5L12 5L7.5 0Z"/>
        </svg>
      </a>
    </nav>
  </div>

  <!-- Background that fades in when scrolled -->
  <div
    class="absolute inset-0 -z-10 bg-white shadow-sm transition-opacity duration-300"
    class:opacity-0={atTop}
    class:opacity-100={!atTop}
  ></div>
</div>
```

Key differences from current:
- Logo as image component, not text
- Pills instead of plain links
- Backdrop blur on Mission link
- Arrow icon on Partner link
- Rollover animation on both
- Skip-to-content link
- White background fades in on scroll (not green - matching reference)
  </action>
  <verify>
1. `npm run dev`
2. Logo visible top-left, nav pills top-right
3. Hover on links shows rollover animation
4. Scroll down - nav hides, scroll up - reappears with white background
5. Tab key focuses skip link first
  </verify>
  <done>Nav component polished with logo, pill buttons, rollover animations, and skip link</done>
</task>

</tasks>

<verification>
After all tasks:
1. Nav displays logo image (not text)
2. Nav links are pill-styled (outlined + solid)
3. Hover shows rollover text animation
4. Skip-to-content link works with keyboard
5. Scroll behavior still functions
6. Build completes without errors
</verification>

<success_criteria>
- Logo renders as SVG image
- Mission link: rounded pill, border, backdrop blur, white text
- Partner link: solid white pill, green text, arrow icon
- Both links have rollover text animation on hover
- Skip-to-content link present and keyboard accessible
- Matches americanhousing.co visual quality
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-navigation/02-03-SUMMARY.md`
</output>
