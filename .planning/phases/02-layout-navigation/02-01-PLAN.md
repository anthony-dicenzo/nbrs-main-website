---
phase: 02-layout-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app.css
  - src/lib/components/Nav.svelte
  - src/lib/components/Footer.svelte
  - src/routes/+layout.svelte
autonomous: true

must_haves:
  truths:
    - "Navigation header appears at top of every page"
    - "Navigation hides when scrolling down, reappears when scrolling up"
    - "Footer with Neighbourhood Scale branding appears at bottom of every page"
    - "Social media icons and navigation links are visible in footer"
  artifacts:
    - path: "src/lib/components/Nav.svelte"
      provides: "Scroll-responsive navigation component"
      contains: "svelte:window bind:scrollY"
    - path: "src/lib/components/Footer.svelte"
      provides: "Site footer with branding, social links, email signup"
      contains: "Neighbourhood Scale"
    - path: "src/routes/+layout.svelte"
      provides: "Root layout integrating Nav and Footer"
      contains: "Nav"
  key_links:
    - from: "src/routes/+layout.svelte"
      to: "src/lib/components/Nav.svelte"
      via: "component import"
      pattern: "import Nav from"
    - from: "src/routes/+layout.svelte"
      to: "src/lib/components/Footer.svelte"
      via: "component import"
      pattern: "import Footer from"
---

<objective>
Create the core layout components: a scroll-responsive navigation header and a comprehensive footer with branding, social links, and email signup. Integrate both into the root layout so all pages share consistent navigation.

Purpose: Establish the visual frame for the entire site - users see the same nav and footer on every page, creating cohesive brand experience.

Output: Nav.svelte, Footer.svelte, updated +layout.svelte, Inter font configured in app.css
</objective>

<execution_context>
@/Users/adicenzo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/adicenzo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-layout-navigation/02-CONTEXT.md
@.planning/phases/02-layout-navigation/02-RESEARCH.md
@src/routes/+layout.svelte
@src/app.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Inter font and typography</name>
  <files>src/app.css</files>
  <action>
Add Inter font import from rsms.me CDN and configure as the default sans-serif font.

Update app.css:
1. Add `@import url("https://rsms.me/inter/inter.css");` at the top (before tailwindcss import)
2. Add to @theme block:
   - `--font-sans: "Inter", system-ui, sans-serif;`
   - `--font-sans--font-feature-settings: "liga" 1, "calt" 1;`
3. Add variable font support after @theme:
```css
@supports (font-variation-settings: normal) {
  :root {
    font-family: "InterVariable", system-ui, sans-serif;
  }
}
```

This enables Inter font site-wide with OpenType features for ligatures.
  </action>
  <verify>Run `npm run dev`, inspect any text in browser - should show Inter font (check DevTools computed styles)</verify>
  <done>Inter font loads and renders on all text elements</done>
</task>

<task type="auto">
  <name>Task 2: Create scroll-responsive Nav component</name>
  <files>src/lib/components/Nav.svelte</files>
  <action>
Create Nav.svelte in src/lib/components/ with scroll-direction-aware visibility.

Requirements from CONTEXT.md:
- Logo left-aligned, links right-aligned
- Two links: Mission (href="/mission"), Partner (href="/partner")
- At page top (scrollY < 50): transparent background, white text
- After scroll: solid NBRS green background, white text
- Hides on scroll down, shows on scroll up
- Animation duration: 300ms

Implementation using Svelte 5 runes:
```svelte
<script lang="ts">
  let scrollY = $state(0);
  let lastScrollY = $state(0);
  let visible = $state(true);
  let atTop = $state(true);

  $effect(() => {
    atTop = scrollY < 50;

    if (atTop) {
      visible = true;
    } else {
      visible = scrollY < lastScrollY; // Show on scroll up
    }
    lastScrollY = scrollY;
  });
</script>

<svelte:window bind:scrollY />
```

Structure:
- Fixed header with z-50
- Max content width 1280px, centered with mx-auto
- Padding: px-6 py-4
- Use translate-y-0 (visible) and -translate-y-full (hidden)
- Use bg-transparent (atTop) and bg-nbrs-green (scrolled)
- Transition: transition-all duration-300 ease-out

Logo: Text "NBRS" or "Neighbourhood Scale" in white, font-bold text-xl, links to "/"
Links: flex gap-8, text-white, no hover effects per CONTEXT.md
  </action>
  <verify>
1. `npm run dev`
2. Visit localhost:5173
3. Nav should be visible at top with transparent background
4. Scroll down - nav should hide
5. Scroll up - nav should reappear with green background
  </verify>
  <done>Navigation hides on scroll down and reappears on scroll up with 300ms transition</done>
</task>

<task type="auto">
  <name>Task 3: Create Footer component and integrate layout</name>
  <files>src/lib/components/Footer.svelte, src/routes/+layout.svelte</files>
  <action>
Create Footer.svelte following the American Housing reference from CONTEXT.md:

Structure (top to bottom):
1. Large "Neighbourhood Scale" text (text-4xl md:text-6xl font-bold)
2. Bottom section with two columns:
   - Left: Social icons (LinkedIn, X, Instagram) - use placeholder SVG icons or Unicode symbols
   - Right: Nav links (Contact, Mission, FAQs) + email signup form
3. Very bottom: Copyright "Neighbourhood Scale, 2026"

Background: bg-nbrs-green
Text: text-white throughout
Padding: py-16
Max content width: 1280px centered

Social links: Use # as href placeholder, aria-label for accessibility
Email signup form:
- action="https://formspree.io/f/FORM_ID" method="POST" (placeholder ID)
- Input: type="email", name="email", required, placeholder="Enter your email"
- Button: "Sign up", bg-white text-nbrs-green rounded font-semibold

Then update src/routes/+layout.svelte:
1. Import Nav from '$lib/components/Nav.svelte'
2. Import Footer from '$lib/components/Footer.svelte'
3. Structure:
```svelte
<Nav />

<main class="min-h-screen pt-16">
  {@render children()}
</main>

<Footer />
```

The pt-16 accounts for fixed nav height (prevents content hiding behind nav).
  </action>
  <verify>
1. Visit localhost:5173 and all routes (/partner, /waitlist, /family-1)
2. Nav appears at top of all pages
3. Footer appears at bottom of all pages with green background
4. "Neighbourhood Scale" heading visible in footer
5. Social icon placeholders and email signup form visible
  </verify>
  <done>Footer renders on all pages with branding, social links, nav links, and email signup form</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run dev` - site loads without errors
2. `npm run build` - static build completes successfully
3. Navigate between all routes - Nav and Footer persist (no flash)
4. Scroll behavior works on homepage (nav hides/shows)
5. Footer email form is visible (submission not tested - placeholder action)
</verification>

<success_criteria>
- Navigation header visible on all routes with logo and two links
- Navigation hides when scrolling down, reappears when scrolling up
- Footer visible on all routes with "Neighbourhood Scale" heading
- Footer contains social icon placeholders, nav links, email signup form
- Inter font renders throughout the site
- Static build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-navigation/02-01-SUMMARY.md`
</output>
